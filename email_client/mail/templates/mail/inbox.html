{% extends 'mail/base.html' %}
{% load static %}
{% block title %} Inbox {% endblock %}
{% block body %}
<div class='panel-body'>
    <div class='mail-option' aria-hidden='true'>
        <div class='btn-group chk-all'>
            <!-- <div class="chk-all"> -->
            <input type='checkbox' class='mail-checkbox mail-group-checkbox' disabled>
            <!-- <div class='btn-group'> -->
                <a data-toggle='dropdown' href='#' class='btn mini all' aria-expanded='false' disabled>
                    All
                    <i class='fa fa-angle-down'></i>
                </a>
                <ul class='dropdown-menu'>
                    <li><a class='dropdown-item' href="#"> None</a></li>
                    <li><a class='dropdown-item' href="#"> Read</a></li>
                    <li><a class='dropdown-item' href="#"> Unread</a></li>
                </ul>
            <!-- </div> -->
            <!-- </div> -->
        </div>
        <div class='btn-group'>
            <a data-original-title="Refresh" data-placement="top" data-toggle="dropdown" href="#" class="btn mini tooltips" disabled>
                <i class=" fa fa-refresh"></i>
            </a>
        </div>
        <div class="btn-group">
            <a data-toggle="dropdown" href="#" class="btn mini blue" disabled>
                More
                <i class="fa fa-angle-down "></i>
            </a>
            <ul class="dropdown-menu">
                <li><a href="#"><i class="fa fa-pencil disabled"></i> Mark as Read</a></li>
                <li><a href="#"><i class="fa fa-ban disabled"></i> Spam</a></li>
                <li class="divider"></li>
                <li><a href="#" class="disabled"><i class="fa fa-trash-o"></i> Delete</a></li>
            </ul>
        </div>
        <div class="btn-group">
            <a data-toggle="dropdown" href="#" class="btn mini blue" disabled>
                Move to
                <i class="fa fa-angle-down "></i>
            </a>
            <!-- <ul class="dropdown-menu">
                <li><a href="#" class="disabled"><i class="fa fa-pencil"></i> Mark as Read</a></li>
                <li><a href="#" class="disabled"><i class="fa fa-ban"></i> Spam</a></li>
                <li class="divider"></li>
                <li><a href="#" class="disabled"><i class="fa fa-trash-o"></i> Delete</a></li>
            </ul> -->
        </div>
        <ul class="unstyled inbox-pagination">
            <li><span>1-10 of 10</span></li>
            <li>
                <a class="np-btn" disabled><i class="fa fa-angle-left pagination-left"></i></a>
            </li>
            <li>
                <a class="np-btn" disabled><i class="fa fa-angle-right pagination-right"></i></a>
            </li>
        </ul>
    </div>
    <table class="table table-inbox table-hover" aria-label="Main inbox">
        <tbody>
           {% for email in emails %}
             <tr class="{{email.read}}" name="email_id" id="{{ email.ref }}">
                     <td class="inbox-small-cells" aria-hidden='true'>
                         <input type="checkbox" class="mail-checkbox" disabled>
                     </td>
                     <td class="inbox-small-cells"><i class="fa fa-star" aria-hidden='true' disabled></i></td>
                     <!-- <div><a href="{% url 'mail:email' email.ref %}"></a> -->
                         <td class="view-message dont-show" >{{ email.sender }}</td>
                         <td class="view-message">{{ email.subject}}</td>
                         <td class="view-message" aria-hidden='true' style="white-space: nowrap; text-overflow:ellipsis; overflow: hidden; max-width:100ch; font-weight: normal;">{{ email.preview}}</td>
                     <!-- </div> -->
                     <!-- <td class="view-message">
                         <a href = "{% url 'mail:email' email.ref %}">
                         <span class="view-message dont-show">{{ email.sender }}</span>
                         <span class="view-message">{{ email.subject}}></span>
                         <span class="view-message" style="white-space: nowrap; text-overflow:ellipsis; overflow: hidden; max-width:100ch; font-weight: normal;">{{ email.preview}}</span>
                         </a>
                     </td> -->
                     <!-- <td class="view-message inbox-small-cells" ><i class="fa fa-paperclip"></i></td> -->
                     <td class="view-message text-right">{{ email.time_sent }}</td>
             </tr>
        {% endfor %}
         </tbody>
     </table>

</div>
<script>
    // This allows users to click on the correct parts of the table row
    $("td.view-message").on("click", function (e) {
        eid = $(this).closest('tr').attr('id');
        location = document.location+'/'+eid;
    });
</script>
{% endblock %}